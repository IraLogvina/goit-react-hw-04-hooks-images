{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/ErrorQuery/QueryError.module.css","components/API/ImageApi.js","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/Loader/Loader.jsx","components/ErrorQuery/ErrorQuery.jsx","App.js","reportWebVitals.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css"],"names":["module","exports","ImageApi","fetchImage","query","page","fetch","then","response","ok","json","Searchbar","onSubmit","useState","setQuery","className","s","SearchForm","event","preventDefault","trim","toast","error","SearchFormInput","type","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","SearchFormButton","SearchFormButtonLabel","ImageGalleryItem","images","onClick","map","image","ImageGalleryItemImage","src","webformatURL","largeImageURL","alt","id","ImageGallery","Button","modalRoot","document","querySelector","Modal","showModal","onClose","children","useEffect","window","addEventListener","handleKeyDown","e","code","createPortal","Overlay","target","loader","Loader","color","height","width","ErrorQuery","message","App","status","setStatus","setImages","setPage","isLoading","setIsLoading","setShowModal","setError","link","setLink","options","total","hits","scrollTo","top","body","scrollHeight","behavior","catch","finally","handleFormSubmit","autoClose","nodeName","dataset","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f098f4c1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__17sQZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ErrorQuery\":\"QueryError_ErrorQuery__9L80l\"};","const API_KEY = '22412207-a0ef56cb918658d27ea3da2a0';\nconst BASE_URL = `https://pixabay.com/api`;\n\nfunction fetchImage({ query = '', page = 1 }) {\n  return fetch(\n    `${BASE_URL}/?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=${API_KEY}`\n  ).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n  });\n}\n\nconst ImageApi = {\n  fetchImage,\n};\n\nexport default ImageApi;\n","import React from \"react\";\nimport { useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport s from \"./Searchbar.module.css\";\n\nfunction Searchbar({ onSubmit }) {\n  const [query, setQuery] = useState(\"\");\n\n  const handleInputChange = (event) => {\n    setQuery(event.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    if (query.trim() === \"\") {\n      toast.error(\"Please, enter a query\");\n      return;\n    }\n    onSubmit(query);\n    setQuery(\"\");\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\n        <input\n          className={s.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={query}\n          onChange={handleInputChange}\n        />\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <span className={s.SearchFormButtonLabel}>Search</span>\n        </button>\n      </form>\n    </header>\n  );\n}\n\nexport default Searchbar;\n","import PropTypes from \"prop-types\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nfunction ImageGalleryItem({ images, onClick }) {\n  return (\n    <>\n      {images.map((image) => (\n        <li key={image.id} className={s.ImageGalleryItem} onClick={onClick}>\n          <img\n            className={s.ImageGalleryItemImage}\n            src={image.webformatURL}\n            data-image={image.largeImageURL}\n            alt=\"\"\n          />\n        </li>\n      ))}\n    </>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  images: PropTypes.array,\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport s from \"./ImageGallery.module.css\";\n\nfunction ImageGallery({ images, onClick }) {\n  return (\n    <ul className={s.ImageGallery}>\n      <ImageGalleryItem images={images} onClick={onClick} />\n    </ul>\n  );\n}\n\nexport default ImageGallery;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nconst Button = ({ onClick }) => {\n  return (\n    <button onClick={onClick} className={s.Button}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { Children } from \"react\";\nimport { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\n\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nfunction Modal({ showModal, onClose, children }) {\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeyDown);\n\n    return () => {\n      window.addEventListener(\"keydown\", handleKeyDown);\n    };\n  });\n  const handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      onClose();\n    }\n  };\n\n  const handleBbackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={s.Overlay} onClick={handleBbackdropClick}>\n      <div className={s.Modal}>{children}</div>\n    </div>,\n    modalRoot\n  );\n}\n\nexport default Modal;\n","import Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport s from \"./Loader.module.css\";\n\nconst loader = () => {\n  return (\n    <div className={s.Loader}>\n      <Loader type=\"BallTriangle\" color=\"#00BFFF\" height={80} width={80} />\n      <p>Loading...</p>\n    </div>\n  );\n};\n\nexport default loader;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from './QueryError.module.css';\n\nconst ErrorQuery = ({ message }) => {\n  return <p className={s.ErrorQuery}>{message}</p>;\n};\n\nErrorQuery.propTypes = {\n  queryError: PropTypes.object,\n};\n\nexport default ErrorQuery;\n","import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport ImageApi from \"./components/API/ImageApi\";\n\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Button from \"./components/Button\";\nimport Modal from \"./components/Modal\";\nimport Loader from \"./components/Loader\";\nimport ErrorQuery from \"./components/ErrorQuery/ErrorQuery\";\nimport { ToastContainer } from \"react-toastify\";\n\nfunction App() {\n  const [query, setQuery] = useState(null);\n  const [status, setStatus] = useState(\"idle\");\n  const [images, setImages] = useState([]);\n  const [page, setPage] = useState(1);\n  const [isLoading, setIsLoading] = useState(false);\n  const [showModal, setShowModal] = useState(\"\");\n  const [error, setError] = useState(null);\n  const [link, setLink] = useState(\"\");\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n    const options = {\n      page,\n      query,\n    };\n    setIsLoading(true);\n    ImageApi.fetchImage(options)\n      .then((images) => {\n        if (images.total === 0) {\n          setError(`Nothing was found for your query ${query}`);\n          setStatus(\"rejected\");\n        } else {\n          setImages(images.hits);\n          setStatus(\"resolved\");\n        }\n      })\n      .then(() => {\n        window.scrollTo({\n          top: document.body.scrollHeight,\n          behavior: \"smooth\",\n        });\n      })\n      .catch((error) => setError(error))\n      .finally(() => setIsLoading(false));\n  }, [page, query]);\n\n  const toggleModal = () => setShowModal(!showModal);\n\n  const openModal = (e) => {\n    e.preventDefault();\n    if (e.target.nodeName === \"IMG\") {\n      setShowModal(e.target.dataset.image);\n      setLink(e.target.src);\n    }\n  };\n\n  const handleFormSubmit = (query) => {\n    setImages([]);\n    setQuery(query);\n    setPage(1);\n  };\n\n  const handleLoadMore = () => {\n    setPage(page + 1);\n  };\n\n  if (status === \"idle\") {\n    return (\n      <>\n        <Searchbar onSubmit={handleFormSubmit} />\n        <ToastContainer autoClose={3000} />\n      </>\n    );\n  }\n\n  if (status === \"pending\") {\n    return (\n      <>\n        <Searchbar onSubmit={handleFormSubmit} />\n        {isLoading && <Loader />}\n      </>\n    );\n  }\n\n  if (status === \"rejected\") {\n    return (\n      <>\n        <Searchbar onSubmit={handleFormSubmit} />\n        <ErrorQuery message={error} />\n        <ToastContainer autoClose={3000} />\n      </>\n    );\n  }\n\n  if (status === \"resolved\") {\n    return (\n      <>\n        <Searchbar onSubmit={handleFormSubmit} />\n        <ImageGallery images={images} onClick={openModal} />\n        {showModal && (\n          <Modal onClose={toggleModal}>\n            <img src={link} alt=\"modal\" />\n          </Modal>\n        )}\n        {isLoading && <Loader />}\n        <Button onClick={handleLoadMore} />\n        <ToastContainer autoClose={3000} />\n      </>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};"],"sourceRoot":""}